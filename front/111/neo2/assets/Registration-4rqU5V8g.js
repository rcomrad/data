import{r as i,u,j as e,C as d,a as m}from"./index-cRpnX_UD.js";import{O as c}from"./pashs-form-generator-fIcHfePZ.js";import{A as a}from"./Alert-ZSJUiIEH.js";import{R as x}from"./common-bil8NGBa.js";import"./config-ZEIqkGks.js";function j(){const[l,t]=i.useState(!1),[n,o]=i.useState(""),p=u();return e.jsx("div",{className:"full-height d-flex justify-content-center align-items-center",children:e.jsxs(d,{children:[l?e.jsx("div",{className:"mb-3",children:e.jsx(a,{text:"Пароли должны совпадать",type:"danger"})}):null,n.length>0?e.jsx("div",{className:"mb-3",children:e.jsxs(a,{text:"",type:"danger",children:[e.jsx("p",{children:"Произошла ошибка при регистрации"}),e.jsx(m,{to:"/why-bad",children:"Почему это произошло"})]})}):null,e.jsx(c,{elements:[{label:"Email",name:"email",type:"input",required:!0,invalidText:"Пожалуйста введите корректный email",properties:{type:"email"}},{label:"Логин",name:"login",type:"input",required:!0,properties:{}},{label:"Пароль",name:"password",type:"input",required:!0,properties:{type:"password"}},{label:"Подтверждение пароля",name:"passwordConfirm",type:"input",required:!0,properties:{type:"password"}},{label:"Выберите олимпиаду",name:"key",required:!0,type:"select",properties:{options:[{value:"info",label:"Информатика"},{value:"prog",label:"Программирование"}]}},{label:"Я согласен на обработку персональных данных",name:"agree",type:"checkbox",required:!0,invalidText:"Вы должны согласиться на обработку персональных данных",properties:{}}],title:"Регистрация",defaultInvalidText:"Это поле обязательно для заполнения",buttonText:"Зарегестрироваться",onButtonClick:r=>{if(r.password!==r.passwordConfirm){t(!0);return}t(!1),x(r.login,r.password,r.email,r.key).then(s=>{if(s.isGood)return p("/reg-success");o(s.reason??"Произошла ошибка при вводе логина")})}})]})})}export{j as default};
