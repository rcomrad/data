import{a as p}from"./runtime-dom.esm-bundler-b9ecab8c.js";import{G as b,H as f,o as n,c,a as e,J as y,K as u,L as _,M as d}from"./runtime-core.esm-bundler-292d2fca.js";const k={class:"modal fade",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},g={class:"modal-dialog"},x={class:"modal-content"},C=e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбор Обучающихся"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),L={class:"modal-body",style:{}},M={class:"mb-3"},S={class:"mb-3"},D=e("label",{class:"form-label"},"Поиск: ",-1),w=e("div",{class:"form-text"}," Поиск показываат первые 5 частично совподающих имен ",-1),B={class:"table"},I=["onClick"],J=e("i",{class:"bi bi-circle"},null,-1),N=[J],O={class:"mb-3"},V=e("label",{class:"form-label"},"Выбранные обучающиеся: ",-1),$={class:"table"},E=["onClick"],F=e("i",{class:"bi bi-check2-circle"},null,-1),G=[F],H={class:"modal-footer"},K=["data-bs-target"],T=["data-bs-target"],q={__name:"StudentsSearch",props:["students","selected","backID"],emits:["MakeList"],setup(i,{emit:m}){const a=i,o=b([]);f(a,()=>{if(o.value=[],a.students&&a.selected)for(let s of a.students)s.selected=a.selected.includes(s.id),o.value.push(JSON.parse(JSON.stringify(s)))});const r=b(""),h=()=>{let s=[];for(let l of o.value)l.selected&&s.push({id:l.id,name:l.name,surname:l.surname});m("MakeList",s)};return(s,l)=>(n(),c("div",k,[e("div",g,[e("div",x,[C,e("div",L,[e("div",M,[e("div",S,[D,y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":l[0]||(l[0]=t=>r.value=t),placeholder:"Введите имя"},null,512),[[p,r.value]]),w]),e("table",B,[e("tbody",null,[(n(!0),c(u,null,_(o.value.filter(t=>(t.name+" "+t.surname).toLowerCase().includes(r.value.toLowerCase())&&!t.selected).slice(0,5),t=>(n(),c("tr",null,[e("td",null,[e("button",{class:"btn btn-primary btn-sm",onClick:v=>t.selected=!t.selected},N,8,I)]),e("td",null,d(t.name)+" "+d(t.surname),1)]))),256))])])]),e("div",O,[V,e("table",$,[e("tbody",null,[(n(!0),c(u,null,_(o.value.filter(t=>t.selected),t=>(n(),c("tr",null,[e("td",null,[e("button",{class:"btn btn-primary btn-sm",onClick:v=>t.selected=!t.selected},G,8,E)]),e("td",null,d(t.name)+" "+d(t.surname),1)]))),256))])])])]),e("div",H,[e("button",{type:"button",class:"btn btn-secondary","data-bs-target":i.backID,"data-bs-toggle":"modal"},"Закрыть ",8,K),e("button",{type:"button",class:"btn btn-primary","data-bs-target":i.backID,"data-bs-toggle":"modal",onClick:h}," Сохранить ",8,T)])])])]))}};export{q as _};
